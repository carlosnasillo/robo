<!--
  ~ Copyright (c) 2015 PDX Technology, All rights reserved.
  ~
  ~ Unpublished copyright. All rights reserved. This material contains
  ~ proprietary information that shall be used or copied only with
  ~ PDX Technology, except with written permission of PDX Technology.
  -->

<sidebar></sidebar>

<div id="wrapper">
    <div class="content">
        <spinner></spinner>
        <div class="row">
            <div class="col-xs-8">
                <div class="hpanel hblue">
                    <div class="panel-body">
                        <div class="row">
                            <h1 editable-text="vm.strategy.name">{{ vm.strategy.name || "empty" }}</h1>
                        </div>
                        <div class="row">
                            <div class="form-group col-sm-6 col-lg-4">
                                <label for="minimum">Minimum Note Amount :</label>
                                <input id="minimum" class="form-control" type="text" ng-touch-spin ng-model="vm.strategy.minNoteAmount" prefix="$" step="25" min="25" max="10000" on-change="vm.onMinChange">
                            </div>

                            <div class="form-group col-sm-6 col-lg-4">
                                <label for="maximum">Maximum Note Amount :</label>
                                <input id="maximum" class="form-control" type="text" ng-touch-spin ng-model="vm.strategy.maxNoteAmount" prefix="$" step="25" min="25" max="10000" on-change="vm.onMaxChange">
                            </div>

                            <div class="form-group col-sm-6 col-sm-offset-3 col-lg-4 col-lg-offset-0">
                                <label for="dailyInvestment">Maximum Daily Investment :</label>
                                <input id="dailyInvestment" class="form-control" type="text" ng-touch-spin ng-model="vm.strategy.maximumDailyInvestment" prefix="$" step="1" min="1" max="10000">
                            </div>
                        </div>
                    </div>
                    <div class="panel-footer"></div>
                </div>
                <div class="rule-criteria" data-ng-repeat="rule in vm.strategy.rules">
                    <div class="hpanel hblue">
                        <div class="panel-body">
                            <div class="triangle-close" data-ng-click="vm.remove(rule.attribute)"><i class="fa fa-times"></i></div>
                                <div data-ng-if="rule.type == 'slider'" slider-criterion criterion="criterion"></div>
                                <div data-ng-if="rule.type == 'rangeSlider'" range-slider-criterion criterion="criterion"></div>
                                <div data-ng-if="rule.type == 'multi'" multi-criterion criterion="criterion"></div>
                                <div data-ng-if="rule.type == 'text'" text-criterion criterion="criterion"></div>
                            </div>
                        <div class="panel-footer"></div>
                    </div>
                </div>
                <div data-ng-show="vm.showGhostBox()" class="ui-sortable-placeholder no-criteria">
                    <h1 class="no-criteria-title">Add your criteria <i class="fa fa-long-arrow-right"></i></h1>
                </div>
                <div class="row">
                    <div class="col-xs-6 col-sm-5 col-lg-4">
                        <button class="btn primary-button btn-danger2" data-ng-click="vm.cancel()">Cancel</button>
                    </div>
                    <div class="col-xs-6 col-sm-5 col-sm-offset-2 col-lg-4 col-lg-offset-4">
                        <button class="btn primary-button" data-ng-click="vm.saveRule()">Save</button>
                    </div>
                </div>
            </div>
            <div class="col-xs-4">
                <div class="row">
                    <div class="col-xs-12" >
                        <div class="hpanel hblue">
                            <div class="panel-body">
                                <h1 class="text-center">Available Criteria</h1>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-6 col-xs-12 base-criteria" data-ng-repeat="baseCriterion in vm.baseCriteria" data-ng-click="vm.addRule(baseCriterion)">
                        <div class="hpanel">
                            <div class="panel-body text-center">
                                <div class="m-t-sm">
                                    <strong>{{ baseCriterion.name }}</strong>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
